--- alliance-5.0/bvl/src/bvl_bcomp_y.y.orig	2008-12-17 19:46:40.877618364 -0200
+++ alliance-5.0/bvl/src/bvl_bcomp_y.y	2008-12-17 19:48:14.790943180 -0200
@@ -17,7 +17,210 @@
 #include "bvl.h"
 #include "bvl_byacc.h"
 #include "bvl_bedef.h"
+%}
+
+%union  {
+	long		 valu;
+        float            flov;
+	char		*text;
+        bvl_ablstr       list;
+	bvl_name	 name;
+        struct g_type    dble;
+	};
+
+%token         tok_AND
+%token         _BEGIN
+%token         _END
+%token         _EQSym
+%token         _EXIT
+%token         _FILE
+%token         _GESym
+%token         _GTSym
+%token         _IN
+%token         _INOUT
+%token         _LABEL
+%token         _LESym
+%token         _LINKAGE
+%token         _LTSym
+%token         _NAND
+%token         _NESym
+%token         _NEXT
+%token         _NOR
+%token         _NOT
+%token         tok_NULL
+%token         _OR
+%token         _OUT
+%token         _XOR
+%token         ABS
+%token         ACCESS
+%token         AFTER
+%token         ALIAS
+%token         ALL
+%token         ARCHITECTURE
+%token         ARRAY
+%token         ASSERT
+%token         ATTRIBUTE
+%token  <text> AbstractLit
+%token         Ampersand
+%token         Apostrophe
+%token         Arrow
+%token         BIT
+%token         BIT_VECTOR
+%token         BLOCK
+%token         BODY
+%token         BUFFER
+%token         BUS
+%token         Bar
+%token         BasedInt
+%token         BasedReal
+%token  <text> BitStringLit
+%token         Box
+%token         CASE
+%token         COMPONENT
+%token         CONFIGURATION
+%token         CONSTANT
+%token  <text> CharacterLit
+%token         Colon
+%token         Comma
+%token         DISCONNECT
+%token         DOWNTO
+%token         DecimalInt
+%token         DecimalReal
+%token         Dot
+%token         DoubleStar
+%token         ELSE
+%token         ELSIF
+%token         ENTITY
+%token         ERROR
+%token         FOR
+%token         FS
+%token         FUNCTION
+%token         GENERATE
+%token         GENERIC
+%token         GUARDED
+%token         IF
+%token         IS
+%token  <text> Identifier
+%token         LIBRARY
+%token         LOOP
+%token         LeftParen
+%token         MAP
+%token         MOD
+%token         MS
+%token         MUX_BIT
+%token         MUX_VECTOR
+%token         Minus
+%token         NATURAL
+%token         NATURAL_VECTOR
+%token         NEW
+%token         NS
+%token         OF
+%token         ON
+%token         OPEN
+%token         OTHERS
+%token         _PACKAGE
+%token         PORT
+%token         PROCEDURE
+%token         PROCESS
+%token         PS
+%token         Plus
+%token         RANGE
+%token         RECORD
+%token         REG_BIT
+%token         REG_VECTOR
+%token         REGISTER
+%token         REM
+%token         REPORT
+%token         RETURN
+%token         RightParen
+%token         SELECT
+%token         SEVERITY
+%token         SIGNAL
+%token         _STABLE
+%token         SUBTYPE
+%token         Semicolon
+%token         Slash
+%token         Star
+%token  <text> StringLit
+%token         THEN
+%token         TO
+%token         TRANSPORT
+%token         _TYPE
+%token         UNITS
+%token         UNTIL
+%token         US
+%token         USE
+%token         VARIABLE
+%token         VarAsgn
+%token         WAIT
+%token         WARNING
+%token         WHEN
+%token         WHILE
+%token         WITH
+%token         WOR_BIT
+%token         WOR_VECTOR
+
+%left         tok_AND _OR _NAND _NOR _XOR
+%left         _EQSym _NESym
+%left         _NOT
+
+%type <text>    choice
+%type <text>   .simple_name.
+%type <text>    simple_name
+%type <text>    a_label
+%type <text>   .label.
+%type <text>    label
+%type <valu>    severity__message
+%type <text>    report__message
+%type <valu>   .SEVERITY__expression.
+%type <text>   .REPORT__expression.
+%type <text>   .guard_expression.
+%type <text>    guard_expression
+
+%type <list> ...waveform__WHEN__choices..
+%type <list>    waveform__WHEN__choices
+%type <list>    waveform_element
+%type <list>    waveform
+%type <list>    expression
+%type <valu>   .GUARDED.
+%type <valu>   .TRANSPORT.
+
+%type <list>    relation..AND__relation..
+%type <list>    relation..OR__relation..
+%type <list>    relation.NAND_NOR__relation.
+%type <list>    relation..XOR__relation..
+%type <list>    relation
+%type <list>    simple_expression
+%type <list>   .sign.term..add_op__term..
+%type <list>    term
+%type <list>    factor
+%type <list>    primary
+%type <valu>    relational_operator
+%type <text>    literal
+%type <list>    aggregate
+
+%type <valu>   .signal_kind.
+%type <valu>   .mode.
+%type <dble>    type_mark
+%type <name>   .constraint.
+%type <name>    constraint
+%type <name>    range
+%type <valu>    direction
+%type <valu>    abstractlit
+%type <name>    name
+%type <name>    slice_name
+%type <name>    indexed_name
+%type <name>    target
+%type <name>    attribute_name
+%type <valu>    generic_element_association
+%type <text>    constant_VarAsgn__expression
+%type <flov>    time_unit
+%type <valu>    delay_expression
+%type <valu>   .AFTER__delay_expression.
+
+%start design_file
 
+%{
 /* ###--------------------------------------------------------------### */
 /* function	: bvl_y_error						*/
 /* description	: print an error message				*/
@@ -1349,207 +1552,6 @@
 
 %}
 
-%union  {
-	long		 valu;
-        float            flov;
-	char		*text;
-        bvl_ablstr       list;
-	bvl_name	 name;
-        struct g_type    dble;
-	};
-
-%token         tok_AND
-%token         _BEGIN
-%token         _END
-%token         _EQSym
-%token         _EXIT
-%token         _FILE
-%token         _GESym
-%token         _GTSym
-%token         _IN
-%token         _INOUT
-%token         _LABEL
-%token         _LESym
-%token         _LINKAGE
-%token         _LTSym
-%token         _NAND
-%token         _NESym
-%token         _NEXT
-%token         _NOR
-%token         _NOT
-%token         tok_NULL
-%token         _OR
-%token         _OUT
-%token         _XOR
-%token         ABS
-%token         ACCESS
-%token         AFTER
-%token         ALIAS
-%token         ALL
-%token         ARCHITECTURE
-%token         ARRAY
-%token         ASSERT
-%token         ATTRIBUTE
-%token  <text> AbstractLit
-%token         Ampersand
-%token         Apostrophe
-%token         Arrow
-%token         BIT
-%token         BIT_VECTOR
-%token         BLOCK
-%token         BODY
-%token         BUFFER
-%token         BUS
-%token         Bar
-%token         BasedInt
-%token         BasedReal
-%token  <text> BitStringLit
-%token         Box
-%token         CASE
-%token         COMPONENT
-%token         CONFIGURATION
-%token         CONSTANT
-%token  <text> CharacterLit
-%token         Colon
-%token         Comma
-%token         DISCONNECT
-%token         DOWNTO
-%token         DecimalInt
-%token         DecimalReal
-%token         Dot
-%token         DoubleStar
-%token         ELSE
-%token         ELSIF
-%token         ENTITY
-%token         ERROR
-%token         FOR
-%token         FS
-%token         FUNCTION
-%token         GENERATE
-%token         GENERIC
-%token         GUARDED
-%token         IF
-%token         IS
-%token  <text> Identifier
-%token         LIBRARY
-%token         LOOP
-%token         LeftParen
-%token         MAP
-%token         MOD
-%token         MS
-%token         MUX_BIT
-%token         MUX_VECTOR
-%token         Minus
-%token         NATURAL
-%token         NATURAL_VECTOR
-%token         NEW
-%token         NS
-%token         OF
-%token         ON
-%token         OPEN
-%token         OTHERS
-%token         _PACKAGE
-%token         PORT
-%token         PROCEDURE
-%token         PROCESS
-%token         PS
-%token         Plus
-%token         RANGE
-%token         RECORD
-%token         REG_BIT
-%token         REG_VECTOR
-%token         REGISTER
-%token         REM
-%token         REPORT
-%token         RETURN
-%token         RightParen
-%token         SELECT
-%token         SEVERITY
-%token         SIGNAL
-%token         _STABLE
-%token         SUBTYPE
-%token         Semicolon
-%token         Slash
-%token         Star
-%token  <text> StringLit
-%token         THEN
-%token         TO
-%token         TRANSPORT
-%token         _TYPE
-%token         UNITS
-%token         UNTIL
-%token         US
-%token         USE
-%token         VARIABLE
-%token         VarAsgn
-%token         WAIT
-%token         WARNING
-%token         WHEN
-%token         WHILE
-%token         WITH
-%token         WOR_BIT
-%token         WOR_VECTOR
-
-%left         tok_AND _OR _NAND _NOR _XOR
-%left         _EQSym _NESym
-%left         _NOT
-
-%type <text>    choice
-%type <text>   .simple_name.
-%type <text>    simple_name
-%type <text>    a_label
-%type <text>   .label.
-%type <text>    label
-%type <valu>    severity__message
-%type <text>    report__message
-%type <valu>   .SEVERITY__expression.
-%type <text>   .REPORT__expression.
-%type <text>   .guard_expression.
-%type <text>    guard_expression
-
-%type <list> ...waveform__WHEN__choices..
-%type <list>    waveform__WHEN__choices
-%type <list>    waveform_element
-%type <list>    waveform
-%type <list>    expression
-%type <valu>   .GUARDED.
-%type <valu>   .TRANSPORT.
-
-%type <list>    relation..AND__relation..
-%type <list>    relation..OR__relation..
-%type <list>    relation.NAND_NOR__relation.
-%type <list>    relation..XOR__relation..
-%type <list>    relation
-%type <list>    simple_expression
-%type <list>   .sign.term..add_op__term..
-%type <list>    term
-%type <list>    factor
-%type <list>    primary
-%type <valu>    relational_operator
-%type <text>    literal
-%type <list>    aggregate
-
-%type <valu>   .signal_kind.
-%type <valu>   .mode.
-%type <dble>    type_mark
-%type <name>   .constraint.
-%type <name>    constraint
-%type <name>    range
-%type <valu>    direction
-%type <valu>    abstractlit
-%type <name>    name
-%type <name>    slice_name
-%type <name>    indexed_name
-%type <name>    target
-%type <name>    attribute_name
-%type <valu>    generic_element_association
-%type <text>    constant_VarAsgn__expression
-%type <flov>    time_unit
-%type <valu>    delay_expression
-%type <valu>   .AFTER__delay_expression.
-
-%start design_file
-
 %%
 
 design_file
